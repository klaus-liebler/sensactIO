!function(){return function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){return s(e[r][1][t]||t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}}()({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.sensact=void 0,function(t){!function(t){let e;!function(t){t[t.STOP=0]="STOP",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.PREPARE=3]="PREPARE"}(e=t.eBlindState||(t.eBlindState={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){let e;!function(t){t[t.STOP=0]="STOP",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN"}(e=t.eBlindCommand||(t.eBlindCommand={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){let e;!function(t){t[t.TOGGLE=0]="TOGGLE",t[t.CHANGE_INTENSITY=1]="CHANGE_INTENSITY"}(e=t.eSinglePwmCommand||(t.eSinglePwmCommand={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){let e;!function(t){t[t.ON=0]="ON",t[t.AUTO=1]="AUTO",t[t.OFF=2]="OFF",t[t.TRIGGER=3]="TRIGGER",t[t.TRIGGER_MSECS=4]="TRIGGER_MSECS"}(e=t.eOnOffCommand||(t.eOnOffCommand={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){let e;!function(t){t[t.MANUAL_OFF=0]="MANUAL_OFF",t[t.MANUAL_ON=1]="MANUAL_ON",t[t.AUTO_OFF=2]="AUTO_OFF",t[t.AUTO_ON=3]="AUTO_ON"}(e=t.eOnOffState||(t.eOnOffState={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.tBlindState=1]="tBlindState",t[t.tSinglePwmState=2]="tSinglePwmState",t[t.tOnOffState=3]="tOnOffState"}(e=t.uState||(t.uState={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.tBlindCommand=1]="tBlindCommand",t[t.tSinglePwmCommand=2]="tSinglePwmCommand",t[t.tOnOffCommand=3]="tOnOffCommand"}(e=t.uCommand||(t.uCommand={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){let e;!function(t){t[t.RELAY1_UP__RELAY2_DOWN=0]="RELAY1_UP__RELAY2_DOWN",t[t.RELAY1_DOWN__RELAY2_UP=1]="RELAY1_DOWN__RELAY2_UP",t[t.RELAY1_POWER__RELAY2_UP=2]="RELAY1_POWER__RELAY2_UP",t[t.RELAY1_POWER__RELAY2_DOWN=3]="RELAY1_POWER__RELAY2_DOWN",t[t.RELAY1_UP__RELAY2_POWER=4]="RELAY1_UP__RELAY2_POWER",t[t.RELAY1_DOWN__RELAY2_POWER=5]="RELAY1_DOWN__RELAY2_POWER"}(e=t.eRelayInterlockMode||(t.eRelayInterlockMode={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.tBlindConfig=1]="tBlindConfig",t[t.tSinglePwmConfig=2]="tSinglePwmConfig",t[t.tOnOffConfig=3]="tOnOffConfig"}(e=t.uConfig||(t.uConfig={}))}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstBlindState(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstBlindState(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}position(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint16(this.bb_pos+t):0}state(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):t.comm.eBlindState.STOP}static starttBlindState(t){t.startObject(2)}static addPosition(t,e){t.addFieldInt16(0,e,0)}static addState(e,i){e.addFieldInt8(1,i,t.comm.eBlindState.STOP)}static endtBlindState(t){return t.endObject()}static createtBlindState(t,e,n){return i.starttBlindState(t),i.addPosition(t,e),i.addState(t,n),i.endtBlindState(t)}}e.tBlindState=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstSinglePwmState(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstSinglePwmState(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)}intensity0100(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint8(this.bb_pos+t):0}on(){var t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static starttSinglePwmState(t){t.startObject(2)}static addIntensity0100(t,e){t.addFieldInt8(0,e,0)}static addOn(t,e){t.addFieldInt8(1,+e,0)}static endtSinglePwmState(t){return t.endObject()}static createtSinglePwmState(t,i,n){return e.starttSinglePwmState(t),e.addIntensity0100(t,i),e.addOn(t,n),e.endtSinglePwmState(t)}}t.tSinglePwmState=e}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstOnOffState(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstOnOffState(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}state(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.comm.eOnOffState.MANUAL_OFF}static starttOnOffState(t){t.startObject(1)}static addState(e,i){e.addFieldInt8(0,i,t.comm.eOnOffState.MANUAL_OFF)}static endtOnOffState(t){return t.endObject()}static createtOnOffState(t,e){return i.starttOnOffState(t),i.addState(t,e),i.endtOnOffState(t)}}e.tOnOffState=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstStateWrapper(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstStateWrapper(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}applicationId(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}stateType(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):t.comm.uState.NONE}state(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}static starttStateWrapper(t){t.startObject(3)}static addApplicationId(t,e){t.addFieldInt32(0,e,0)}static addStateType(e,i){e.addFieldInt8(1,i,t.comm.uState.NONE)}static addState(t,e){t.addFieldOffset(2,e,0)}static endtStateWrapper(t){return t.endObject()}static createtStateWrapper(t,e,n,s){return i.starttStateWrapper(t),i.addApplicationId(t,e),i.addStateType(t,n),i.addState(t,s),i.endtStateWrapper(t)}}e.tStateWrapper=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstState(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstState(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}timestamp(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}states(e,i){var n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.comm.tStateWrapper).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}statesLength(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static starttState(t){t.startObject(2)}static addTimestamp(t,e){t.addFieldInt32(0,e,0)}static addStates(t,e){t.addFieldOffset(1,e,0)}static createStatesVector(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startStatesVector(t,e){t.startVector(4,e,4)}static endtState(t){return t.endObject()}static createtState(t,e,n){return i.starttState(t),i.addTimestamp(t,e),i.addStates(t,n),i.endtState(t)}}e.tState=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstBlindCommand(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstBlindCommand(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}cmd(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.comm.eBlindCommand.STOP}static starttBlindCommand(t){t.startObject(1)}static addCmd(e,i){e.addFieldInt8(0,i,t.comm.eBlindCommand.STOP)}static endtBlindCommand(t){return t.endObject()}static createtBlindCommand(t,e){return i.starttBlindCommand(t),i.addCmd(t,e),i.endtBlindCommand(t)}}e.tBlindCommand=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstSinglePwmCommand(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstSinglePwmCommand(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}cmd(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.comm.eSinglePwmCommand.TOGGLE}intensity0100(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):0}static starttSinglePwmCommand(t){t.startObject(2)}static addCmd(e,i){e.addFieldInt8(0,i,t.comm.eSinglePwmCommand.TOGGLE)}static addIntensity0100(t,e){t.addFieldInt8(1,e,0)}static endtSinglePwmCommand(t){return t.endObject()}static createtSinglePwmCommand(t,e,n){return i.starttSinglePwmCommand(t),i.addCmd(t,e),i.addIntensity0100(t,n),i.endtSinglePwmCommand(t)}}e.tSinglePwmCommand=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstOnOffCommand(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstOnOffCommand(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}cmd(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.comm.eOnOffCommand.ON}msecs(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}static starttOnOffCommand(t){t.startObject(2)}static addCmd(e,i){e.addFieldInt8(0,i,t.comm.eOnOffCommand.ON)}static addMsecs(t,e){t.addFieldInt32(1,e,0)}static endtOnOffCommand(t){return t.endObject()}static createtOnOffCommand(t,e,n){return i.starttOnOffCommand(t),i.addCmd(t,e),i.addMsecs(t,n),i.endtOnOffCommand(t)}}e.tOnOffCommand=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstCommand(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstCommand(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}applicationId(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}commandType(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):t.comm.uCommand.NONE}command(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}static starttCommand(t){t.startObject(3)}static addApplicationId(t,e){t.addFieldInt32(0,e,0)}static addCommandType(e,i){e.addFieldInt8(1,i,t.comm.uCommand.NONE)}static addCommand(t,e){t.addFieldOffset(2,e,0)}static endtCommand(t){return t.endObject()}static createtCommand(t,e,n,s){return i.starttCommand(t),i.addApplicationId(t,e),i.addCommandType(t,n),i.addCommand(t,s),i.endtCommand(t)}}e.tCommand=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstBlindConfig(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstBlindConfig(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}relay1(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint16(this.bb_pos+t):0}relay2(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint16(this.bb_pos+t):0}mode(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt8(this.bb_pos+e):t.comm.eRelayInterlockMode.RELAY1_UP__RELAY2_DOWN}timeUpMsecs(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readUint32(this.bb_pos+t):0}timeDownMsecs(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint32(this.bb_pos+t):0}static starttBlindConfig(t){t.startObject(5)}static addRelay1(t,e){t.addFieldInt16(0,e,0)}static addRelay2(t,e){t.addFieldInt16(1,e,0)}static addMode(e,i){e.addFieldInt8(2,i,t.comm.eRelayInterlockMode.RELAY1_UP__RELAY2_DOWN)}static addTimeUpMsecs(t,e){t.addFieldInt32(3,e,0)}static addTimeDownMsecs(t,e){t.addFieldInt32(4,e,0)}static endtBlindConfig(t){return t.endObject()}static createtBlindConfig(t,e,n,s,o,r){return i.starttBlindConfig(t),i.addRelay1(t,e),i.addRelay2(t,n),i.addMode(t,s),i.addTimeUpMsecs(t,o),i.addTimeDownMsecs(t,r),i.endtBlindConfig(t)}}e.tBlindConfig=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstSinglePwmConfig(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstSinglePwmConfig(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)}pwmFirst(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint16(this.bb_pos+t):0}pwmLast(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint16(this.bb_pos+t):0}idOfStandbyController(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint16(this.bb_pos+t):0}autoOffMsecs(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readUint32(this.bb_pos+t):0}static starttSinglePwmConfig(t){t.startObject(4)}static addPwmFirst(t,e){t.addFieldInt16(0,e,0)}static addPwmLast(t,e){t.addFieldInt16(1,e,0)}static addIdOfStandbyController(t,e){t.addFieldInt16(2,e,0)}static addAutoOffMsecs(t,e){t.addFieldInt32(3,e,0)}static endtSinglePwmConfig(t){return t.endObject()}static createtSinglePwmConfig(t,i,n,s,o){return e.starttSinglePwmConfig(t),e.addPwmFirst(t,i),e.addPwmLast(t,n),e.addIdOfStandbyController(t,s),e.addAutoOffMsecs(t,o),e.endtSinglePwmConfig(t)}}t.tSinglePwmConfig=e}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstOnOffConfig(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstOnOffConfig(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}relay(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint16(this.bb_pos+t):0}autoOffMsecs(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}initialState(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt8(this.bb_pos+e):t.comm.eOnOffState.MANUAL_OFF}static starttOnOffConfig(t){t.startObject(3)}static addRelay(t,e){t.addFieldInt16(0,e,0)}static addAutoOffMsecs(t,e){t.addFieldInt32(1,e,0)}static addInitialState(e,i){e.addFieldInt8(2,i,t.comm.eOnOffState.MANUAL_OFF)}static endtOnOffConfig(t){return t.endObject()}static createtOnOffConfig(t,e,n,s){return i.starttOnOffConfig(t),i.addRelay(t,e),i.addAutoOffMsecs(t,n),i.addInitialState(t,s),i.endtOnOffConfig(t)}}e.tOnOffConfig=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstConfigWrapper(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstConfigWrapper(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}configType(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):t.comm.uConfig.NONE}config(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__union(t,this.bb_pos+e):null}static starttConfigWrapper(t){t.startObject(2)}static addConfigType(e,i){e.addFieldInt8(0,i,t.comm.uConfig.NONE)}static addConfig(t,e){t.addFieldOffset(1,e,0)}static endtConfigWrapper(t){return t.endObject()}static createtConfigWrapper(t,e,n){return i.starttConfigWrapper(t),i.addConfigType(t,e),i.addConfig(t,n),i.endtConfigWrapper(t)}}e.tConfigWrapper=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={})),function(t){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAstIoConfig(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAstIoConfig(t,e){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(e||new i).__init(t.readInt32(t.position())+t.position(),t)}timestamp(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}configs(e,i){var n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.comm.tConfigWrapper).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}configsLength(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static starttIoConfig(t){t.startObject(2)}static addTimestamp(t,e){t.addFieldInt32(0,e,0)}static addConfigs(t,e){t.addFieldOffset(1,e,0)}static createConfigsVector(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startConfigsVector(t,e){t.startVector(4,e,4)}static endtIoConfig(t){return t.endObject()}static createtIoConfig(t,e,n){return i.starttIoConfig(t),i.addTimestamp(t,e),i.addConfigs(t,n),i.endtIoConfig(t)}}e.tIoConfig=i}(t.comm||(t.comm={}))}(i.sensact||(i.sensact={}))},{}],2:[function(t,e,i){var n={};n.Offset,n.Table,n.SIZEOF_SHORT=2,n.SIZEOF_INT=4,n.FILE_IDENTIFIER_LENGTH=4,n.SIZE_PREFIX_LENGTH=4,n.Encoding={UTF8_BYTES:1,UTF16_STRING:2},n.int32=new Int32Array(2),n.float32=new Float32Array(n.int32.buffer),n.float64=new Float64Array(n.int32.buffer),n.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],n.Long=function(t,e){this.low=0|t,this.high=0|e},n.Long.create=function(t,e){return 0==t&&0==e?n.Long.ZERO:new n.Long(t,e)},n.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},n.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},n.Long.ZERO=new n.Long(0,0),n.Builder=function(t){if(t)e=t;else var e=1024;this.bb=n.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},n.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},n.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},n.Builder.prototype.dataBuffer=function(){return this.bb},n.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var i=1+~(this.bb.capacity()-this.space+e)&t-1;this.space<i+t+e;){var s=this.bb.capacity();this.bb=n.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(i)},n.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},n.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},n.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},n.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},n.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},n.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},n.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},n.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},n.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},n.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},n.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},n.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},n.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},n.Builder.prototype.addFieldInt8=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))},n.Builder.prototype.addFieldInt16=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))},n.Builder.prototype.addFieldInt32=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))},n.Builder.prototype.addFieldInt64=function(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))},n.Builder.prototype.addFieldFloat32=function(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))},n.Builder.prototype.addFieldFloat64=function(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))},n.Builder.prototype.addFieldOffset=function(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))},n.Builder.prototype.addFieldStruct=function(t,e,i){e!=i&&(this.nested(e),this.slot(t))},n.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},n.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},n.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var i=e<<1,s=n.ByteBuffer.allocate(i);return s.setPosition(i-e),s.bytes().set(t.bytes(),i-e),s},n.Builder.prototype.addOffset=function(t){this.prep(n.SIZEOF_INT,0),this.writeInt32(this.offset()-t+n.SIZEOF_INT)},n.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},n.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0&&0==this.vtable[e];e--);for(var i=e+1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);var s=(i+2)*n.SIZEOF_SHORT;this.addInt16(s);var o=0,r=this.space;t:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(s==this.bb.readInt16(a)){for(var l=n.SIZEOF_SHORT;l<s;l+=n.SIZEOF_SHORT)if(this.bb.readInt16(r+l)!=this.bb.readInt16(a+l))continue t;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},n.Builder.prototype.finish=function(t,e,i){var s=i?n.SIZE_PREFIX_LENGTH:0;if(e){var o=e;if(this.prep(this.minalign,n.SIZEOF_INT+n.FILE_IDENTIFIER_LENGTH+s),o.length!=n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+n.FILE_IDENTIFIER_LENGTH);for(var r=n.FILE_IDENTIFIER_LENGTH-1;r>=0;r--)this.writeInt8(o.charCodeAt(r))}this.prep(this.minalign,n.SIZEOF_INT+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},n.Builder.prototype.finishSizePrefixed=function(t,e){this.finish(t,e,!0)},n.Builder.prototype.requiredField=function(t,e){var i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")},n.Builder.prototype.startVector=function(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(n.SIZEOF_INT,t*e),this.prep(i,t*e)},n.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else{e=[];for(var i=0;i<t.length;){var n,s=t.charCodeAt(i++);if(s<55296||s>=56320)n=s;else n=(s<<10)+t.charCodeAt(i++)+-56613888;n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);i=0;for(var o=this.space,r=this.bb.bytes();i<e.length;i++)r[o++]=e[i];return this.endVector()},n.Builder.prototype.createLong=function(t,e){return n.Long.create(t,e)},n.ByteBuffer=function(t){this.bytes_=t,this.position_=0},n.ByteBuffer.allocate=function(t){return new n.ByteBuffer(new Uint8Array(t))},n.ByteBuffer.prototype.clear=function(){this.position_=0},n.ByteBuffer.prototype.bytes=function(){return this.bytes_},n.ByteBuffer.prototype.position=function(){return this.position_},n.ByteBuffer.prototype.setPosition=function(t){this.position_=t},n.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},n.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},n.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},n.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},n.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},n.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},n.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},n.ByteBuffer.prototype.readInt64=function(t){return new n.Long(this.readInt32(t),this.readInt32(t+4))},n.ByteBuffer.prototype.readUint64=function(t){return new n.Long(this.readUint32(t),this.readUint32(t+4))},n.ByteBuffer.prototype.readFloat32=function(t){return n.int32[0]=this.readInt32(t),n.float32[0]},n.ByteBuffer.prototype.readFloat64=function(t){return n.int32[n.isLittleEndian?0:1]=this.readInt32(t),n.int32[n.isLittleEndian?1:0]=this.readInt32(t+4),n.float64[0]},n.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},n.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e},n.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},n.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},n.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},n.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},n.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},n.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)},n.ByteBuffer.prototype.writeFloat32=function(t,e){n.float32[0]=e,this.writeInt32(t,n.int32[0])},n.ByteBuffer.prototype.writeFloat64=function(t,e){n.float64[0]=e,this.writeInt32(t,n.int32[n.isLittleEndian?0:1]),this.writeInt32(t+4,n.int32[n.isLittleEndian?1:0])},n.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+n.SIZEOF_INT+n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",e=0;e<n.FILE_IDENTIFIER_LENGTH;e++)t+=String.fromCharCode(this.readInt8(this.position_+n.SIZEOF_INT+e));return t},n.ByteBuffer.prototype.__offset=function(t,e){var i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0},n.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},n.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var i=this.readInt32(t),s="",o=0;if(t+=n.SIZEOF_INT,e===n.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;o<i;){var r,a=this.readUint8(t+o++);if(a<192)r=a;else{var l=this.readUint8(t+o++);if(a<224)r=(31&a)<<6|63&l;else{var d=this.readUint8(t+o++);if(a<240)r=(15&a)<<12|(63&l)<<6|63&d;else r=(7&a)<<18|(63&l)<<12|(63&d)<<6|63&this.readUint8(t+o++)}}r<65536?s+=String.fromCharCode(r):(r-=65536,s+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return s},n.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},n.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+n.SIZEOF_INT},n.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},n.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+n.FILE_IDENTIFIER_LENGTH);for(var e=0;e<n.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+n.SIZEOF_INT+e))return!1;return!0},n.ByteBuffer.prototype.createLong=function(t,e){return n.Long.create(t,e)},this.flatbuffers=n},{}],3:[function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigScreenController=i.UPDATE_EACH_INTERVAL=i.DE_de=void 0;const r=t("./ScreenController"),a=t("./Utils"),l=t("flatbuffers"),d=o(t("../generated/webui_core_comm_generated")),c=t("./ConfigWidgets"),f=t("./DummyData");var u,h=d.sensact.comm;i.DE_de=new Intl.NumberFormat("de-DE"),i.UPDATE_EACH_INTERVAL=2,function(t){t[t.Blind=0]="Blind",t[t.OnOff=1]="OnOff",t[t.SinglePwm=2]="SinglePwm"}(u||(u={}));i.ConfigScreenController=class extends r.ScreenController{constructor(t,e){super(t,e),this.widgets=new Array}addWidgets(t){var e;for(let i=0;i<t.configsLength();i++){let n=null;switch(null===(e=t.configs(i))||void 0===e?void 0:e.configType()){case d.sensact.comm.uConfig.tBlindConfig:n=new c.BlindsConfigWidget(this);break;case d.sensact.comm.uConfig.tOnOffConfig:n=new c.OnOffConfigWidget(this);break;case d.sensact.comm.uConfig.tSinglePwmConfig:n=new c.SinglePwmConfigWidget(this)}if(!n)throw new Error("if(!w)");this.widgets.push(n),n.SetIndex(i)}this.redraw()}onCreate(){}onRestart(){}onStop(){}onFirstStart(){let t=a.$.Html(this.container,"div",["top"]);this.typeSelector=a.$.LabelSpanSelectFillEnum(t,"Select a Widget",u,0),a.$.Html(t,"button",["styled"],"Add",["type","button"]).onclick=(t=>this.AddPressed()),a.$.Html(t,"button",["styled"],"Save",["type","button"]).onclick=(t=>this.SavePressed()),this.divItemlist=a.$.Html(this.container,"div",["itemlist"]);let e=new XMLHttpRequest;e.responseType="arraybuffer",e.onerror=(t=>{this.createWidgets(f.DummyGenerator.CreateIoConfig())}),e.onload=(t=>{if(e.status<400){let t=e.response,i=new l.flatbuffers.ByteBuffer(new Uint8Array(t)),n=d.sensact.comm.tIoConfig.getRootAstIoConfig(i);this.createWidgets(n)}else this.createWidgets(f.DummyGenerator.CreateIoConfig())}),e.open("GET","/iocfg",!0),e.send()}createWidgets(t){var e;for(let i=0;i<t.configsLength();i++){let n=null;switch(null===(e=t.configs(i))||void 0===e?void 0:e.configType()){case d.sensact.comm.uConfig.tBlindConfig:n=new c.BlindsConfigWidget(this);break;case d.sensact.comm.uConfig.tOnOffConfig:n=new c.OnOffConfigWidget(this);break;case d.sensact.comm.uConfig.tSinglePwmConfig:n=new c.SinglePwmConfigWidget(this)}if(!n)throw new Error("!w");n.SetData(t.configs(i)),n.SetIndex(i),n.renderWidget(this.divItemlist,0==i,i+1==t.configsLength()),this.widgets.push(n)}this.redraw()}SavePressed(){let t=new l.flatbuffers.Builder(1024),e=[];for(let i=0;i<this.widgets.length;i++)this.widgets[i].fillFlatbuffer(t,e);let i=h.tIoConfig.createConfigsVector(t,e),n=h.tIoConfig.createtIoConfig(t,0,i);t.finish(n);let s=new XMLHttpRequest;s.open("PUT","/iocmd",!0),s.send(t.asUint8Array())}AddPressed(){let t=null;switch(Number.parseInt(this.typeSelector.value)){case u.Blind:t=new c.BlindsConfigWidget(this);break;case u.OnOff:t=new c.OnOffConfigWidget(this);break;case u.SinglePwm:t=new c.SinglePwmConfigWidget(this)}if(!t)throw new Error("if(!w)");t.renderWidget(this.divItemlist,!1,!1),this.widgets.push(t),this.redraw()}redraw(){for(let t=0;t<this.widgets.length;t++)this.widgets[t].CopyDataFromHtmlToModel();this.divItemlist.innerText="";for(let t=0;t<this.widgets.length;t++)this.widgets[t].SetIndex(t),this.widgets[t].renderWidget(this.divItemlist,0==t,t+1==this.widgets.length)}moveUp(t){let e=this.widgets[t-1];this.widgets[t-1]=this.widgets[t],this.widgets[t]=e,this.redraw()}moveDown(t){let e=this.widgets[t];this.widgets[t]=this.widgets[t+1],this.widgets[t+1]=e,this.redraw()}delete(t){this.widgets.splice(t,1),this.redraw()}}},{"../generated/webui_core_comm_generated":1,"./ConfigWidgets":4,"./DummyData":6,"./ScreenController":8,"./Utils":9,flatbuffers:2}],4:[function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(i,"__esModule",{value:!0}),i.SinglePwmConfigWidget=i.BlindsConfigWidget=i.OnOffConfigWidget=i.ConfigWidget=void 0;const r=o(t("../generated/webui_core_comm_generated")),a=t("./Utils");var l=r.sensact.comm;class d{constructor(t){this.manager=t,this.index=0}renderWidget(t,e,i){let n=a.$.Html(t,"div");this.renderWidgetCoreForm(n),e||(a.$.Html(n,"button",["styled"],"▲",["type","button"]).onclick=(t=>this.UpPressed())),i||(a.$.Html(n,"button",["styled"],"▼",["type","button"]).onclick=(t=>this.DownPressed()));let s=a.$.Html(n,"button",["styled"],"",["type","button"]);s.onclick=(t=>this.DeletePressed()),a.$.SvgIcon(s,"bin2",["smallicon"])}SetIndex(t){this.index=t}UpPressed(){this.manager.moveUp(this.index)}DownPressed(){this.manager.moveDown(this.index)}DeletePressed(){this.manager.delete(this.index)}}i.ConfigWidget=d;i.OnOffConfigWidget=class extends d{constructor(){super(...arguments),this.relay=0,this.initialState=l.eOnOffState.AUTO_OFF,this.autoOffMs=6e4}renderWidgetCoreForm(t){a.$.Html(t,"h3",[],"OnOff"),this.inpRelay=a.$.LabelSpanInput(t,"Relay",this.relay,0,65535),this.inpInitialState=a.$.LabelSpanSelectFillEnum(t,"Initial State",l.eOnOffState,this.initialState),this.inpAutoOffMs=a.$.LabelSpanInput(t,"AutoOff [ms]",this.autoOffMs,0,1e5)}SetData(t){if(t.configType()!=l.uConfig.tOnOffConfig)return;let e=t.config(new l.tOnOffConfig);null!=e&&(this.relay=e.relay(),this.initialState=e.initialState(),this.autoOffMs=e.autoOffMsecs())}CopyDataFromHtmlToModel(){this.relay=this.inpRelay.valueAsNumber,this.initialState=Number.parseInt(this.inpInitialState.value),this.autoOffMs=this.inpAutoOffMs.valueAsNumber}fillFlatbuffer(t,e){let i=l.tOnOffConfig.createtOnOffConfig(t,this.relay,this.initialState,this.autoOffMs);e.push(i)}};i.BlindsConfigWidget=class extends d{constructor(){super(...arguments),this.relay1=0,this.relay2=0,this.mode=l.eRelayInterlockMode.RELAY1_DOWN__RELAY2_UP,this.up_msec=6e4,this.down_msec=6e4}renderWidgetCoreForm(t){a.$.Html(t,"h3",[],"Blind"),this.inpRelay1=a.$.LabelSpanInput(t,"Relay1",this.relay1,0,65535),this.inpRelay2=a.$.LabelSpanInput(t,"Relay2",this.relay2,0,65535),this.inpMode=a.$.LabelSpanSelectFillEnum(t,"Mode",l.eRelayInterlockMode,this.mode),this.inpUp=a.$.LabelSpanInput(t,"Up [ms]",this.up_msec,1,1e5),this.inpDown=a.$.LabelSpanInput(t,"Down [ms]",this.down_msec,1,1e5)}SetData(t){if(t.configType()!=l.uConfig.tBlindConfig)return;let e=t.config(new l.tBlindConfig);null!=e&&(this.relay1=e.relay1(),this.relay2=e.relay2(),this.mode=e.mode(),this.up_msec=e.timeUpMsecs(),this.down_msec=e.timeDownMsecs())}CopyDataFromHtmlToModel(){this.relay1=this.inpRelay1.valueAsNumber,this.relay2=this.inpRelay2.valueAsNumber,this.mode=Number.parseInt(this.inpMode.value),this.up_msec=this.inpUp.valueAsNumber,this.down_msec=this.inpDown.valueAsNumber}fillFlatbuffer(t,e){let i=l.tBlindConfig.createtBlindConfig(t,this.relay1,this.relay2,this.mode,this.up_msec,this.down_msec);e.push(i)}};i.SinglePwmConfigWidget=class extends d{constructor(){super(...arguments),this.pwmFirst=0,this.pwmLast=0,this.standbyControllerId=0,this.autoOffMs=6e4}renderWidgetCoreForm(t){a.$.Html(t,"h3",[],"SinglePwm"),this.inpPwmFirst=a.$.LabelSpanInput(t,"pwm_first",this.pwmFirst,0,65535),this.inpPwmLast=a.$.LabelSpanInput(t,"pwm_last",this.pwmLast,0,65535),this.inpStandbyControllerId=a.$.LabelSpanInput(t,"stndby",this.standbyControllerId,0,65535),this.inpAutoOffMs=a.$.LabelSpanInput(t,"AutoOff [ms]",this.autoOffMs,0,1e5)}SetData(t){if(t.configType()!=l.uConfig.tSinglePwmConfig)return;let e=t.config(new l.tSinglePwmConfig);null!=e&&(this.pwmFirst=e.pwmFirst(),this.pwmLast=e.pwmLast(),this.standbyControllerId=e.idOfStandbyController(),this.autoOffMs=e.autoOffMsecs())}CopyDataFromHtmlToModel(){this.pwmFirst=this.inpPwmFirst.valueAsNumber,this.pwmLast=this.inpPwmLast.valueAsNumber,this.standbyControllerId=this.inpStandbyControllerId.valueAsNumber,this.autoOffMs=this.inpAutoOffMs.valueAsNumber}fillFlatbuffer(t,e){let i=l.tSinglePwmConfig.createtSinglePwmConfig(t,this.pwmFirst,this.pwmLast,this.standbyControllerId,this.autoOffMs);e.push(i)}}},{"../generated/webui_core_comm_generated":1,"./Utils":9}],5:[function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(i,"__esModule",{value:!0}),i.ControlScreenController=i.UPDATE_EACH_INTERVAL=i.DE_de=void 0;const r=t("./ScreenController"),a=t("./Widgets"),l=t("./Utils"),d=t("flatbuffers"),c=o(t("../generated/webui_core_comm_generated")),f=t("./DummyData");i.DE_de=new Intl.NumberFormat("de-DE"),i.UPDATE_EACH_INTERVAL=2;i.ControlScreenController=class extends r.ScreenController{constructor(t,e){super(t,e),this.timeOfLastprocessIoCtrl=0,this.widgets=new Map}createWidgets(t){var e;let i=1;for(let n=0;n<t.configsLength();n++){let s,o=l.$.Html(this.container,"div",[]);switch(null===(e=t.configs(n))||void 0===e?void 0:e.configType()){case c.sensact.comm.uConfig.tBlindConfig:s=new a.BlindsWidget(this,i);break;case c.sensact.comm.uConfig.tOnOffConfig:s=new a.OnOffWidget(this,i);break;case c.sensact.comm.uConfig.tSinglePwmConfig:s=new a.SinglePwmWidget(this,i)}null!=s&&(this.widgets.set(i,s),s.renderWidgetAndHookHandlers(o)),i++}}http_put_iocmd(t){this.timeOfLastprocessIoCtrl=Date.now()+6e4;let e=new XMLHttpRequest;e.onerror=(t=>{console.log("Fehler beim XMLHttpRequest!")}),e.open("PUT","/iocmd",!0),e.responseType="arraybuffer",e.onload=(t=>this.processIoState(e)),e.send(t)}http_get_iocmd(){if(Date.now()-this.timeOfLastprocessIoCtrl<800)return;let t=new XMLHttpRequest;t.onerror=(t=>{console.log("Fehler beim XMLHttpRequest!")}),t.open("GET","/iocmd",!0),t.responseType="arraybuffer",t.onload=(e=>this.processIoState(t)),t.send()}processIoState(t){if(this.timeOfLastprocessIoCtrl=Date.now(),"arraybuffer"!=t.responseType)return void console.error("No arraybuffer returned!");let e=new d.flatbuffers.ByteBuffer(new Uint8Array(t.response)),i=c.sensact.comm.tState.getRootAstState(e);for(let t=0;t<i.statesLength();t++){let e=i.states(t).applicationId(),n=this.widgets.get(e);null==n||n.processIoState(i,t)}}onCreate(){}onRestart(){this.timer=window.setInterval(()=>{this.http_get_iocmd()},1e3)}onStop(){window.clearInterval(this.timer)}onFirstStart(){this.timer=window.setInterval(()=>{this.http_get_iocmd()},1e3);let t=new XMLHttpRequest;t.responseType="arraybuffer",t.onerror=(t=>{this.createWidgets(f.DummyGenerator.CreateIoConfig())}),t.onload=(e=>{if(t.status<400){let e=t.response,i=new d.flatbuffers.ByteBuffer(new Uint8Array(e)),n=c.sensact.comm.tIoConfig.getRootAstIoConfig(i);this.createWidgets(n)}else this.createWidgets(f.DummyGenerator.CreateIoConfig())}),t.open("GET","/iocfg",!0),t.send()}}},{"../generated/webui_core_comm_generated":1,"./DummyData":6,"./ScreenController":8,"./Utils":9,"./Widgets":10,flatbuffers:2}],6:[function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(i,"__esModule",{value:!0}),i.DummyGenerator=void 0;const r=t("flatbuffers"),a=o(t("../generated/webui_core_comm_generated"));i.DummyGenerator=class{static CreateIoConfig(){let t=new r.flatbuffers.Builder(1024),e=a.sensact.comm.tBlindConfig.createtBlindConfig(t,1,2,a.sensact.comm.eRelayInterlockMode.RELAY1_UP__RELAY2_DOWN,3e4,3e4),i=a.sensact.comm.tConfigWrapper.createtConfigWrapper(t,a.sensact.comm.uConfig.tBlindConfig,e),n=a.sensact.comm.tSinglePwmConfig.createtSinglePwmConfig(t,3,3,3,2e4),s=a.sensact.comm.tConfigWrapper.createtConfigWrapper(t,a.sensact.comm.uConfig.tSinglePwmConfig,n),o=a.sensact.comm.tOnOffConfig.createtOnOffConfig(t,4,2e4,a.sensact.comm.eOnOffState.AUTO_OFF),l=a.sensact.comm.tConfigWrapper.createtConfigWrapper(t,a.sensact.comm.uConfig.tOnOffConfig,o),d=a.sensact.comm.tIoConfig.createConfigsVector(t,[i,s,l]),c=a.sensact.comm.tIoConfig.createtIoConfig(t,0,d);t.finish(c);let f=t.asUint8Array(),u=new r.flatbuffers.ByteBuffer(f);return a.sensact.comm.tIoConfig.getRootAstIoConfig(u)}}},{"../generated/webui_core_comm_generated":1,flatbuffers:2}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=t("./ControlScreenController"),s=t("./ConfigScreenController"),o=t("./ScreenController"),r=t("./Utils");class a{constructor(){this.screenControllers=[],this.activeControllerIndex=0}setActiveScreen(t){t!=this.activeControllerIndex&&(this.screenControllers.forEach((e,i)=>{i==t?(e.showDIV(),e.State==o.ControllerState.CREATED?(e.onFirstStart(),e.State=o.ControllerState.STARTED):(e.onRestart(),e.State=o.ControllerState.STARTED)):(e.hideDIV(),e.State==o.ControllerState.STARTED&&(e.onStop(),e.State=o.ControllerState.STOPPED))}),this.activeControllerIndex=t)}startup(){let t=document.querySelector("header");r.$.Html(t,"button",["small"],"CMD",["type","button"]).onclick=(t=>this.setActiveScreen(0)),r.$.Html(t,"button",["small"],"CFG",["type","button"]).onclick=(t=>this.setActiveScreen(1)),this.screenControllers.push(new n.ControlScreenController(this,r.$.HtmlAfter(t,"main",["ControlScreen"]))),this.screenControllers.push(new s.ConfigScreenController(this,r.$.HtmlAfter(t,"main",["ConfigScreen"]))),this.setActiveScreen(0)}}let l;document.addEventListener("DOMContentLoaded",t=>{(l=new a).startup()})},{"./ConfigScreenController":3,"./ControlScreenController":5,"./ScreenController":8,"./Utils":9}],8:[function(t,e,i){"use strict";var n;Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenController=i.ControllerState=void 0,function(t){t[t.CREATED=0]="CREATED",t[t.STARTED=1]="STARTED",t[t.STOPPED=2]="STOPPED"}(n=i.ControllerState||(i.ControllerState={}));i.ScreenController=class{constructor(t,e){this.appManagement=t,this.container=e,this.hideDIV(),this.state=n.CREATED}get ElementId(){return this.container.id}get State(){return this.state}set State(t){this.state=t}showDIV(){this.container.style.display="flex"}hideDIV(){this.container.style.display="none"}}},{}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.$=i.StringNumberTuple=i.Utils=void 0;i.Utils=class{static EventCoordinatesInSVG(t,e,i=1){let n=e.getBoundingClientRect();return{x:(t.clientX-n.left)/i,y:(t.clientY-n.top)/i}}};i.StringNumberTuple=class{constructor(t,e){this.s=t,this.n=e}};class n{static Svg(t,e,i,s){return t.appendChild(n.Elem(n.SVGNS,e,i,"",s))}static SvgIcon(t,e,i=[]){let s=n.Svg(t,"svg",i,["icon","icon-"+e]);return n.Svg(s,"use",[],[]).setAttributeNS(this.XLINKNS,"href","#icon-"+e),t.appendChild(s),s}static ColorNumColor2ColorDomString(t){let e=t.toString(16);for(;e.length<6;)e="0"+t;return"#"+e}static ColorDomString2ColorNum(t){return parseInt(t.substring(1),16)}static Html(t,e,i,s,o){return t.appendChild(n.Elem(n.HTMLNS,e,i,s,o))}static HtmlAfter(t,e,i,s,o){return t.parentElement.insertBefore(n.Elem(n.HTMLNS,e,i,s,o),t.nextSibling)}static HtmlAsFirstChild(t,e,i,s,o){return t.firstChild?t.insertBefore(n.Elem(n.HTMLNS,e,i,s,o),t.firstChild):t.appendChild(n.Elem(n.HTMLNS,e,i,s,o))}static Elem(t,e,i=[],n="",s=[]){let o,r=document.createElementNS(t,e);if(i)for(const t of i)r.classList.add(t);for(o=0;o<s.length;o+=2)r.setAttribute(s[o],s[o+1]);return n&&(r.textContent=n),r}static InputNumber(t,e,i,s,o){let r=0;if(null!=o)for(const t of o)if(t.key==s&&!isNaN(t.value)){r=t.value;break}let a=n.Html(t,"tr",["develop-propertygrid-tr"]);n.Html(a,"td",["develop-propertygrid-td"],s);let l=n.Html(a,"td",["develop-propertygrid-td"]);return n.Html(l,"input",[],"",["type","number","min",""+Math.round(e),"max",""+Math.round(i),"value",""+Math.round(r)])}static LabelSpanInput(t,e,i,s,o){let r=n.Html(t,"label");return n.Html(r,"span",[],e),n.Html(r,"input",[],"",["type","number","value",i+"","min",s+"","max",o+""])}static LabelSpanSelectFillEnum(t,e,i,s){const o=Object.keys(i).filter(t=>"number"==typeof i[t]),r=o.map(t=>i[t]);let a=n.Html(t,"label");n.Html(a,"span",[],e);let l=n.Html(a,"select");for(let t=0;t<o.length;t++){let e=n.Html(l,"option",[],o[t],["value",r[t]]);t==s&&(e.selected=!0)}return l}static InputSelect(t,e,i,s){let o=0;if(null!=s)for(const t of s)if(t.key==i&&!isNaN(t.value)){o=t.value;break}let r=n.Html(t,"tr",["develop-propertygrid-tr"]);n.Html(r,"td",["develop-propertygrid-td"],i);let a=n.Html(r,"td",["develop-propertygrid-td"]),l=n.Html(a,"select");for(let t=0;t<e.length;t++){let i=n.Html(l,"option",[],e[t].s,["value",""+e[t].n]);t==o&&i.setAttribute("selected","")}return l}static InputColor(t,e,i){let s="#ff0000";if(null!=i)for(const t of i)if(t.key==e){s=t.value;break}let o=n.Html(t,"tr",["develop-propertygrid-tr"]);n.Html(o,"td",["develop-propertygrid-td"],e);let r=n.Html(o,"td",["develop-propertygrid-td"]);return n.Html(r,"input",[],"",["type","color","value",s])}}i.$=n,n.SVGNS="http://www.w3.org/2000/svg",n.XLINKNS="http://www.w3.org/1999/xlink",n.HTMLNS="http://www.w3.org/1999/xhtml"},{}],10:[function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(i,"__esModule",{value:!0}),i.OnOffWidget=i.SinglePwmWidget=i.BlindsWidget=i.Widget=i.UPDATE_EACH_INTERVAL=void 0;const r=t("flatbuffers"),a=o(t("../generated/webui_core_comm_generated")),l=t("./Utils");i.UPDATE_EACH_INTERVAL=2;class d{constructor(t,e){this.manager=t,this.id=e}}i.Widget=d;i.BlindsWidget=class extends d{constructor(t,e){super(t,e)}processIoState(t,e){var i;if((null===(i=t.states(e))||void 0===i?void 0:i.stateType())==a.sensact.comm.uState.tBlindState)switch(t.states(e).state(new a.sensact.comm.tBlindState).state()){case a.sensact.comm.eBlindState.DOWN:this.butBlindsDown.style.color="green",this.butBlindsUp.style.color="black";break;case a.sensact.comm.eBlindState.UP:this.butBlindsDown.style.color="black",this.butBlindsUp.style.color="green";break;default:this.butBlindsDown.style.color="black",this.butBlindsUp.style.color="black"}}blindEventBuilder(t){let e=new r.flatbuffers.Builder(1024),i=a.sensact.comm.tBlindCommand.createtBlindCommand(e,t),n=a.sensact.comm.tCommand.createtCommand(e,a.sensact.comm.uCommand.tBlindCommand,this.id,i);return e.finish(n),e.asUint8Array()}renderWidgetAndHookHandlers(t){this.butBlindsUp=l.$.Html(t,"button",["updown"],"🢁"),this.butBlindsUp.style.flex="1 1 0",this.butBlindsStop=l.$.Html(t,"button"),this.butBlindsStop.style.flex="1 1 0",l.$.SvgIcon(this.butBlindsStop,"blinds").style.fill="black",this.butBlindsDown=l.$.Html(t,"button",["updown"],"🢃"),this.butBlindsDown.style.flex="1 1 0",this.butBlindsUp.onclick=(t=>{this.manager.http_put_iocmd(this.blindEventBuilder(a.sensact.comm.eBlindCommand.UP))}),this.butBlindsStop.onclick=(t=>{this.manager.http_put_iocmd(this.blindEventBuilder(a.sensact.comm.eBlindCommand.STOP))}),this.butBlindsDown.onclick=(t=>{this.manager.http_put_iocmd(this.blindEventBuilder(a.sensact.comm.eBlindCommand.DOWN))})}};i.SinglePwmWidget=class extends d{constructor(t,e){super(t,e),this.firstCallOfProcessIoCtrl=!0}processIoState(t,e){var i;if((null===(i=t.states(e))||void 0===i?void 0:i.stateType())!=a.sensact.comm.uState.tSinglePwmState)return;let n=t.states(e).state(new a.sensact.comm.tSinglePwmState).on(),s=t.states(e).state(new a.sensact.comm.tSinglePwmState).intensity0100();this.butSpotsOnOff.style.backgroundColor=n?"green":"grey",this.firstCallOfProcessIoCtrl&&(this.spotsPicker.color.set(s),this.firstCallOfProcessIoCtrl=!1)}renderWidgetAndHookHandlers(t){let e=l.$.Html(t,"div",[]);e.style.flex="1 1 0",e.style.alignSelf="center",this.butSpotsOnOff=l.$.Html(t,"button",["onoff"]),this.butSpotsOnOff.style.flex="0 0 0",l.$.SvgIcon(this.butSpotsOnOff,"spot").style.fill="black";let i=Math.min(400,.9*e.offsetWidth);this.spotsPicker=new iro.ColorPicker(e,{width:i,layoutDirection:"vertical",color:"#000",layout:[{component:iro.ui.Slider,options:{sliderType:"value"}}]}),this.spotsPicker.on("input:change",(t,e)=>{let i=t.value;console.info(i);let n=new r.flatbuffers.Builder(1024),s=a.sensact.comm.tSinglePwmCommand.createtSinglePwmCommand(n,a.sensact.comm.eSinglePwmCommand.CHANGE_INTENSITY,i),o=a.sensact.comm.tCommand.createtCommand(n,a.sensact.comm.uCommand.tSinglePwmCommand,this.id,s);n.finish(o),this.manager.http_put_iocmd(n.asUint8Array())}),this.butSpotsOnOff.onclick=(t=>{let e=new r.flatbuffers.Builder(1024);a.sensact.comm.tSinglePwmCommand.starttSinglePwmCommand(e),a.sensact.comm.tSinglePwmCommand.addCmd(e,a.sensact.comm.eSinglePwmCommand.TOGGLE);let i=a.sensact.comm.tSinglePwmCommand.endtSinglePwmCommand(e),n=a.sensact.comm.tCommand.createtCommand(e,a.sensact.comm.uCommand.tSinglePwmCommand,this.id,i);e.finish(n),this.manager.http_put_iocmd(e.asUint8Array())})}};i.OnOffWidget=class extends d{constructor(t,e){super(t,e),this.state=a.sensact.comm.eOnOffState.AUTO_OFF}updateUI(t){switch(this.state=t,this.state){case a.sensact.comm.eOnOffState.AUTO_OFF:this.selector.style.left=this.butOn.clientWidth+"px",this.selector.style.width=this.butAuto.clientWidth+"px",this.selector.innerHTML="AUTO",this.selector.style.backgroundColor="black",this.selector.style.color="white",this.selector.style.visibility="visible";break;case a.sensact.comm.eOnOffState.AUTO_ON:this.selector.style.left=this.butOn.clientWidth+"px",this.selector.style.width=this.butAuto.clientWidth+"px",this.selector.innerHTML="AUTO",this.selector.style.backgroundColor="green",this.selector.style.color="black",this.selector.style.visibility="visible";break;case a.sensact.comm.eOnOffState.MANUAL_ON:this.selector.style.left="0px",this.selector.style.width=this.butOn.clientWidth+"px",this.selector.innerHTML="ON",this.selector.style.backgroundColor="green",this.selector.style.color="black",this.selector.style.visibility="visible";break;case a.sensact.comm.eOnOffState.MANUAL_OFF:this.selector.style.left=this.butOn.clientWidth+this.butAuto.clientWidth+1+"px",this.selector.style.width=this.butOff.clientWidth+"px",this.selector.innerHTML="OFF",this.selector.style.backgroundColor="black",this.selector.style.color="white",this.selector.style.visibility="visible"}}processIoState(t,e){var i;if((null===(i=t.states(e))||void 0===i?void 0:i.stateType())!=a.sensact.comm.uState.tOnOffState)return;let n=t.states(e).state(new a.sensact.comm.tOnOffState).state();this.updateUI(n)}renderWidgetAndHookHandlers(t){let e=l.$.Html(t,"div");e.style.flex="1 1 0",e.style.position="relative";let i=l.$.Html(e,"div",["switch_3_ways_container"]);i.style.display="flex",this.butOn=l.$.Html(i,"div",["switch_3_ways_item"]),l.$.Html(this.butOn,"span",[],"On"),this.butAuto=l.$.Html(i,"div",["switch_3_ways_item"]),l.$.Html(this.butAuto,"span",[],"Auto"),this.butOff=l.$.Html(i,"div",["switch_3_ways_item"],"Off"),l.$.Html(this.butOff,"span",[],"Off"),this.selector=l.$.Html(e,"div",["switch_3_ways_selector"]),this.selector.style.visibility="hidden",l.$.Html(this.selector,"span",[],""),this.butOn.onclick=(t=>{let e=new r.flatbuffers.Builder(1024),i=a.sensact.comm.tOnOffCommand.createtOnOffCommand(e,a.sensact.comm.eOnOffCommand.ON,0),n=a.sensact.comm.tCommand.createtCommand(e,a.sensact.comm.uCommand.tOnOffCommand,this.id,i);e.finish(n);let s=e.asUint8Array();this.manager.http_put_iocmd(s)}),this.butAuto.onclick=(t=>{let e=new r.flatbuffers.Builder(1024),i=a.sensact.comm.tOnOffCommand.createtOnOffCommand(e,a.sensact.comm.eOnOffCommand.AUTO,0),n=a.sensact.comm.tCommand.createtCommand(e,a.sensact.comm.uCommand.tOnOffCommand,this.id,i);e.finish(n);let s=e.asUint8Array();this.manager.http_put_iocmd(s)}),this.butOff.onclick=(t=>{let e=new r.flatbuffers.Builder(1024),i=a.sensact.comm.tOnOffCommand.createtOnOffCommand(e,a.sensact.comm.eOnOffCommand.OFF,0),n=a.sensact.comm.tCommand.createtCommand(e,a.sensact.comm.uCommand.tOnOffCommand,this.id,i);e.finish(n);let s=e.asUint8Array();this.manager.http_put_iocmd(s)})}}},{"../generated/webui_core_comm_generated":1,"./Utils":9,flatbuffers:2}]},{},[7]);
//# sourceMappingURL=bundle-min.js.map
